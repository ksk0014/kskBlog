---
title: 分布式存储质量保障体系
date: 2018-05-04 21:42:32
tags:
- Testing Framework
categories:
- 测试设计
---

# 测试流程 #

代码review  --> UT（L1）–> L2（简单功能测试）–> L3（全量回归测试）–> 异常环境 --> 集成测试 --> 性能测试 -->  自动上线 --> 线上灰度测试

# 测试流程功能简述 #

代码review：主要是代码规范性检查，coding风格、代码书写合理性（项目高工查），测试人员需要关注log打印是否合理、是否有冗余或缺失、日志级别是否合理

* UT：auto trigger，UT测试代码由研发人员负责编写，测试人员需要维护UT测试环境、推动单测问题解决、推动单测覆盖率提升
* L2：auto trigger，测试用例为全量测试中的一小部分，测试时长在30分钟以内，目的是快速发现CI代码在基本接口功能上面存在的问题，及时推动研发人员解决
* L3：daily build，全量测试，考察代码在复杂场景下、单个异常下运行情况，测试时间应当在12h以内，测试问题第二天及时反馈RD解决，问题绝不过夜
* failover：hand trigger，全量回归三轮无异常，版本拉分支进入异常环境，多种异常混合、持续压力、异常预案演练、集群服务能力评估，运行三天无问题，产出测试报告
* 集成测试：hand trigger upgrade，failover环境三天无问题，版本进入集成环境，版本兼容性测试、上下游模块对接测试，观察三天
* 性能测试：hand trigger，集成环境三天无异常，开始集群性能测试，观察版本间性能是否存在回退，如存在推动定位调优，产出性能测试报告
* 自动上线：hand trigger，借助变更平台上线
* 线上灰度测试：版本上线时触发，代码相对简单，测试需要关注的是平台维护、报警信息补全完善

# 新patch测试须知 #

1. 功能设计阶段：参与设计讨论
2. 功能开发阶段：与研发功能确认接口，开发对应测试用例，编写测试方案设计文档
3. 功能提测阶段：review功能实现逻辑，最好能看懂业务逻辑层面的代码，调通新增测试用例，加入回归测试
4. 功能验收阶段：稳定回归3轮，有问题及时推动解决，问题绝不过夜，及时更新测试进度记录文档
5. 分支测试阶段：功能验收通过，推入failover环境，有问题及时推动解决，产出测试报告
6. 集成环境观察阶段：上线集成环境，观察兼容性、联调上下游环境、性能回退，产出测试报告
7. 最后上线阶段：冒烟测试
